---
title: TypeScript
description: How to use Mocha with TypeScript
---

import { PackageManagers } from "starlight-package-managers";

Mocha works well with TypeScript. Here's how to get started:

## Quick Setup

Install the required dependencies:

<PackageManagers dev type="add" pkg="mocha typescript ts-node @types/mocha @types/node" />

Run tests:

```bash
npx mocha --require ts-node/register "test/**/*.test.ts"
```

## Configuration Files

### package.json

Add a test script:

```json
{
  "scripts": {
    "test": "mocha --require ts-node/register 'test/**/*.test.ts'"
  }
}
```

### tsconfig.json

Basic configuration:

```json
{
  "compilerOptions": {
    "target": "es2018",
    "module": "commonjs",
    "strict": true,
    "esModuleInterop": true,
    "types": ["mocha", "node"]
  }
}
```

## Example Test

```typescript
// test/math.test.ts
describe("math functions", function () {
  it("should add numbers", function () {
    const result = 2 + 2;
    if (result !== 4) {
      throw new Error("Addition failed");
    }
  });

  it("should handle async", async function () {
    const result = await Promise.resolve(42);
    if (result !== 42) {
      throw new Error("Async test failed");
    }
  });
});
```

## Common Issues

**"Cannot find module" errors**: Make sure `@types/mocha` and `@types/node` are installed.

**Compilation errors**: Check that `tsconfig.json` includes test files and has `"types": ["mocha"]`.

**Import errors**: Use import syntax, not `require()` in TypeScript files.

## .mocharc.json (Optional)

For persistent configuration:

```json
{
  "require": ["ts-node/register"],
  "spec": ["test/**/*.test.ts"]
}
```
