name: Auto Add to Project

# Automatically adds issues and PRs to GitHub Projects
# Uses built-in GITHUB_TOKEN with enhanced permissions (no token rotation needed!)
# Learn more: https://docs.github.com/en/issues/planning-and-tracking-with-projects/automating-your-project/automating-projects-using-actions

on:
  issues:
    types: [opened, reopened]
  pull_request_target:
    types: [opened, reopened]

permissions:
  issues: write
  pull-requests: write
  repository-projects: write

jobs:
  add-to-project:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/add-to-project@v1.0.2
        with:
          # Use GITHUB_TOKEN instead of PAT - no token rotation needed!
          github-token: ${{ secrets.GITHUB_TOKEN }}
          # Project URL for Mocha project board
          project-url: https://github.com/orgs/mochajs/projects/6
          # Optional: Set custom field values
          # labeled: bug, feature
          # label-operator: OR
